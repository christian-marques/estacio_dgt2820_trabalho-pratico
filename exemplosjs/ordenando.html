<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Ordenação de Vetores</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>

  <div class="container mt-4">
    <h1 class="mb-4">Ordenando Valores</h1>

    <div class="mb-3 row">
      <label for="valor" class="col-12 col-sm-1 col-form-label">Valor</label>
      <div class="col-12 col-sm-5">
        <input type="number" id="valor" class="form-control" />
      </div>
      <div class="col-auto mt-2 mt-sm-0">
        <button onclick="add()" class="btn btn-primary btn-lg">Adicionar</button>
      </div>
    </div>

    <hr />

    <div class="mb-3 d-flex flex-column flex-sm-row align-items-start align-items-sm-center">
      <label for="algoritmo" class="me-2 mb-2 mb-sm-0">Algoritmo:</label>

      <div class="flex-grow-1 me-2">
        <select id="algoritmo" class="form-select w-100 w-sm-auto">
          <option value="bubble" selected>Bubble Sort</option>
          <option value="selection">Selection Sort</option>
          <option value="quick">Quick Sort</option>
        </select>
      </div>

      <div>
        <div class="btn-group">
          <button onclick="ordenar()" class="btn btn-primary btn-lg me-2">Ordenar</button>
          <button onclick="misturar()" class="btn btn-primary btn-lg">Misturar</button>
        </div>
      </div>
    </div>

    <hr />

    <ul id="valores" class="mb-0"></ul>

  </div>

  <script src="ordenando.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

  <script>
    var vetor = [];

    function renderLista() {
      var ul = document.getElementById("valores");
      ul.innerHTML = "";

      for (var i = 0; i < vetor.length; i++) {
        var li = document.createElement("li");
        li.textContent = vetor[i];
        ul.appendChild(li);
      }
    }

    
    function add() {
        var campoValor = document.getElementById("valor");

        var lista = document.getElementById("valores");

        if (campoValor.value === "") {
            alert("Digite um valor.");
            return;
        }

        var node = document.createElement("li");

        var texto = document.createTextNode(campoValor.value);

        node.appendChild(texto);

        lista.appendChild(node);

        campoValor.value = "";
        campoValor.focus();
    }

    function ordenar() {
        var lista = document.getElementById("valores");
        var selecao = document.getElementById("algoritmo");

        var vetor = [];
        for (var i = 0; i < lista.children.length; i++) {
            var valor = parseFloat(lista.children[i].innerHTML);
            vetor.push(valor);
        }

        if (selecao.selectedIndex === 0) {
            window.bubble_sort(vetor);
        } else if (selecao.selectedIndex === 1) {
            window.selection_sort(vetor);
        } else if (selecao.selectedIndex === 2) {
            window.quick_sort(vetor, 0, vetor.length - 1);
        }

        var itens = vetor
        .map(function (n) {
            return "<li>" + n + "</li>";
        })
        .reduce(function (acc, item) {
            return acc + item;
        }, "");

        lista.innerHTML = itens;
    }

    function misturar() {
        var lista = document.getElementById("valores");

        var vetor = [];
        for (var i = 0; i < lista.children.length; i++) {
            var valor = parseFloat(lista.children[i].innerHTML);
            vetor.push(valor);
        }

        window.shuffle(vetor, vetor.length * 2);

        var itens = vetor
        .map(function (n) {
            return "<li>" + n + "</li>";
        })
        .reduce(function (acc, item) {
            return acc + item;
        }, "");

        lista.innerHTML = itens;
    }

  </script>
</body>
</html>
